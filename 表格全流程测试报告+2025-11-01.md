# 表格全流程测试报告（2025-11-01）

- 执行命令：`pnpm -C apps/web exec playwright test --reporter=list --reporter=html`
- HTML 报告预览：`http://localhost:9323/`
- 结果：测试执行完成，但存在失败用例（进程退出码 1）。

## 测试范围与功能覆盖
- 字段 CRUD：新增、重命名、类型切换、删除（`tests/e2e/field-crud.spec.ts`）
- 表头菜单：隐藏/显示、排序指示、整列填色、编辑字段名（`tests/e2e/header-menu.spec.ts`）
- 网格编辑：双击进入编辑并保存文本、复制选区显示提示（`tests/e2e/grid-editing.spec.ts`）
- 工具栏：行高切换、筛选抽屉、字段配置创建/编辑、显示隐藏字段（`tests/e2e/toolbar.spec.ts`）

## 环境与前置
- 前端 Dev Server：`http://localhost:5173` 已运行（`reuseExistingServer: true`）
- 后端 NestJS：`apps/server start:dev` 已运行
- 管理员账号：默认 `admin@example.com` / `admin123`（可通过环境变量覆盖）

## 观察与建议
- 使用 `[data-app-ready="1"]` 作为 UI 就绪标识，降低加载时序影响。
- 字段相关操作多为前端状态更新；如需后端持久化校验，可在测试中追加 `apiListFields` 比对。
- 若中文文案或图标发生变化，需同步更新选择器（当前采用可访问名称及文本为主）。

## 查看失败详情
- 打开 HTML 报告：`http://localhost:9323/`
- 或本地路径：`apps/web/playwright-report/index.html`